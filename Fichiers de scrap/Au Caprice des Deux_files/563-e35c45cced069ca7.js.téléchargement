"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[563],{33258:function(e,i,r){r.d(i,{Z:function(){return t}});var t={ar:JSON.parse('{"addToFavorites":"إضافة إلى المفضلة","all":"الكل","clear":"واضح","event":"حدث","events":"الأحداث","filter":"تصفية","next":"التالي","notification":"الإعلام","previous":"السابق","previousPage":"الصفحة السابقة","removeFromFavorites":"إزالة من المفضلة","search":"بحث","share":"شارك"}'),da:JSON.parse('{"addToFavorites":"","all":"Alle","clear":"Ryd","event":"Begivenhed","events":"Begivenheder","filter":"Filter","next":"N\xe6ste side","notification":"Notifikation","previous":"Forrige side","previousPage":"Forrige side","removeFromFavorites":"","search":"S\xf8g","share":"Del"}'),de:JSON.parse('{"addToFavorites":"Zu Favoriten hinzuf\xfcgen","all":"Alle","clear":"L\xf6schen","event":"Ereignis","events":"Ereignisse","filter":"Filter","next":"Weiter","notification":"Benachrichtigung","vorherige":"Vorherige","previousPage":"Vorherige Seite","removeFromFavorites":"Aus Favoriten entfernen","search":"Suche","share":"Teilen"}'),en:JSON.parse('{"addToFavorites":"Add to favorites","all":"All","clear":"Clear","event":"Event","events":"Events","filter":"Filter","next":"Next","notification":"Notification","previous":"Previous","previousPage":"Previous page","removeFromFavorites":"Remove from favorites","search":"Search","share":"Share"}'),es:JSON.parse('{"addToFavorites":"A\xf1adir a favoritos","all":"Todo","clear":"Borrar","event":"Evento","events":"Events","filter":"Filtro","next":"Siguiente","notification":"Notificaci\xf3n","previous":"Anterior","previousPage":"P\xe1gina anterior","removeFromFavorites":"Eliminar de favoritos","search":"Buscar","share":"Compartir"}'),fr:JSON.parse('{"addToFavorites":"Ajouter aux favoris","all":"Tous","clear":"Effacer","event":"\xc9v\xe9nement","events":"\xc9v\xe9nements","filter":"Filtrer","next":"Suivant","notification":"Notification","previous":"Pr\xe9c\xe9dent","previousPage":"Page pr\xe9c\xe9dente","removeFromFavorites":"Supprimer des favoris","search":"Rechercher","share":"Partager"}'),hi:JSON.parse('{"addToFavorites":"पसंदीदा में जोड़ें","all":"सब","clear":"स्पष्ट","event":"घटना","events":"घटनाएँ","filter":"फ़िल्टर","next":"अगला","notification":"अधिसूचना","previous":"पिछला","previousPage":"पिछला पृष्ठ","removeFromFavorites":"पसंदीदा से हटाएँ","search":"खोज","share":"शेयर करें"}'),it:JSON.parse('{"addToFavorites":"Aggiungi ai preferiti","all":"Tutti","clear":"Cancella","event":"Evento","events":"Eventi","filter":"Filtro","next":"Successivo","notification":"Notifica","previous":"Precedente","previousPage":"Pagina precedente","removeFromFavorites":"Rimuovi dai preferiti","search":"Cerca","share":"Condividi"}'),ja:JSON.parse('{"addToFavorites":"お気に入りに追加","all":"すべて","clear":"クリア","event":"イベント","events":"イベント","filter":"フィルター","next":"次へ","notification":"通知","previous":"前へ","previousPage":"前のページ","removeFromFavorites":"お気に入りから削除","search":"検索","share":"共有"}'),no:JSON.parse('{"addToFavorites":"Legg til i favoritter","all":"Alle","clear":"T\xf8m","event":"Arrangement","events":"Arrangementer","filter":"Filter","next":"Neste side","notification":"Varsel","previous":"Forrige","previousPage":"Forrige side","removeFromFavorites":"Fjern fra favoritter","search":"S\xf8k","share":"Del"}'),nl:JSON.parse('{"addToFavorites":"Toevoegen aan favorieten","all":"Alle","clear":"Wissen","event":"Evenement","events":"Evenementen","filter":"Filter","next":"Volgende","notification":"Notificatie","previous":"Vorige","previousPage":"Vorige pagina","removeFromFavorites":"Verwijderen uit favorieten","search":"Zoeken","share":"Delen"}'),pl:JSON.parse('{"addToFavorites":"Dodaj do ulubionych","all":"wszystko","clear":"jasny","event":"wydarzenie","events":"Wydarzenia","filter":"Filtr","next":"Następny","notification":"Powiadomienie","previous":"Poprzedni","previousPage":"Poprzednia strona","removeFromFavorites":"Usuń z ulubionych","search":"Szukaj","share":"Udział"}'),pt:JSON.parse('{"addToFavorites":"Adicionar aos favoritos","all":"Todos","clear":"Limpar","event":"Evento","events":"Eventos","filter":"Filtro","next":"Pr\xf3ximo","notification":"Notifica\xe7\xe3o","previous":"Anterior","previousPage":"P\xe1gina anterior","removeFromFavorites":"Remover dos favoritos","search":"Pesquisar","share":"Compartilhar"}'),ru:JSON.parse('{"addToFavorites":"Добавить в избранное","all":"Все","clear":"Очистить","event":"Событие","events":"События","filter":"Фильтр","next":"Следующая страница","notification":"Уведомление","previous":"Предыдущая страница","previousPage":"Предыдущая страница","removeFromFavorites":"Удалить из избранного","search":"Поиск","share":"Поделиться"}'),sv:JSON.parse('{"addToFavorites":"L\xe4gg till i favoriter","all":"Alla","clear":"Rensa","event":"H\xe4ndelse","events":"H\xe4ndelser","filter":"Filter","next":"N\xe4sta","notification":"Meddelande","previous":"F\xf6reg\xe5ende","previousPage":"F\xf6reg\xe5ende sida","removeFromFavorites":"Ta bort fr\xe5n favoriter","search":"S\xf6k","share":"Dela"}'),uk:JSON.parse('{"addToFavorites":"Додати до вибраного","all":"Усі","clear":"Очистити","event":"Подія","events":"Події","filter":"Фільтр","next":"Далі","notification":"Сповіщення","previous":"Попередній","previousPage":"Попередня сторінка","removeFromFavorites":"Видалити з вибраного","search":"Пошук","share":"Поділитися"}'),zh:JSON.parse('{"addToFavorites":"添加到收藏","all":"全部","clear":"清除","event":"事件","events":"事件","filter":"过滤","next":"下一个","notification":"通知","previous":"以前","previousPage":"上一页","removeFromFavorites":"从收藏夹中删除","search":"搜索","share":"分享"}')}},96509:function(e,i,r){r.d(i,{Z:function(){return m}});var t=r(52322),a=r(98142),o=r(2784),s=r(97317),n=r(68810),l=r(85116),v=r(25533),d=r(8507);function c(e){var i,r,a;let{title:c,locale:u,open:f,setOpen:x,children:m,className:h,onClose:p,marginTop:g=0}=e,F=e=>{x(e),!e&&p&&p()},N=1.5;return g>0&&(N=g/16+1.5),(0,t.jsx)(n.u.Root,{show:f,as:o.Fragment,children:(0,t.jsxs)(s.V,{as:"div",className:"relative z-50",onClose:F,children:[(0,t.jsx)(n.u.Child,{as:o.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,t.jsx)("div",{className:"fixed inset-0 overflow-hidden",children:(0,t.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,t.jsx)("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:(0,t.jsx)(n.u.Child,{as:o.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,t.jsx)(s.V.Panel,{className:"pointer-events-auto w-screen max-w-md",children:(0,t.jsxs)("div",{className:"flex h-full flex-col overflow-y-scroll bg-white pt-6 shadow-xl",style:{paddingTop:"".concat(N,"rem")},children:[(0,t.jsx)("div",{className:"px-4 sm:px-6",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsx)(s.V.Title,{className:"text-base font-semibold leading-6 text-gray-900",children:c}),(0,t.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,t.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2",onClick:()=>F(!1),children:[(0,t.jsx)("span",{className:"sr-only",children:null!==(a=null===(r=v.Z)||void 0===r?void 0:null===(i=r[u])||void 0===i?void 0:i.close)&&void 0!==a?a:"Fermer"}),(0,t.jsx)(l.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})]})}),(0,t.jsx)("div",{className:(0,d.AK)("relative mt-6 flex-1",h),children:m})]})})})})})})]})})}var u=r(81229),f=r(5632),x=r(69365);function m(e){var i,r,s,n,l;let{open:m,setOpen:h,locale:p,marginTop:g=0,marginBottom:F=0}=e,{user:N,appUser:j,setAppUser:y,setIsNotificationUnread:b}=(0,a.a)(),T=(0,f.useRouter)(),[w,P]=(0,o.useState)([]);function S(e){var i,r;return null==j?void 0:null===(i=j.notificationsRead)||void 0===i?void 0:i.includes(null!==(r=e.id)&&void 0!==r?r:"")}return(0,o.useEffect)(()=>{(0,u.TH)().then(e=>{P(e)})},[]),(0,t.jsx)(c,{title:null!==(n=null===(r=v.Z)||void 0===r?void 0:null===(i=r[p])||void 0===i?void 0:i.notifications)&&void 0!==n?n:"Notifications",locale:p,open:m,setOpen:h,onClose:()=>{try{let e=w.filter(e=>!S(e)&&e.id),i=e.map(e=>e.id).filter(e=>void 0!==e);if(i.length>0&&(null==N?void 0:N.uid)&&j){let e=[...j.notificationsRead||[],...i];(0,x.g7)(N.uid,e),b(!1);let r={...j,notificationsRead:e};y(r)}}catch(e){console.error(e)}},className:"bg-gray-100",marginTop:g,children:(0,t.jsxs)("div",{className:"flex flex-col gap-y-4 py-6 border-t border-t-gray-300",children:[0===w.length&&(0,t.jsx)("div",{className:"m-6",children:(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Aucune notification r\xe9cente \xe0 afficher."})}),w.map(e=>{var i,r,a,o,s,n;return(0,t.jsxs)("button",{onClick:()=>{e.targetUrl&&T.push(e.targetUrl)},title:null===(r=e.translatableContent)||void 0===r?void 0:null===(i=r[p])||void 0===i?void 0:i.title,className:(0,d.AK)("flex flex-col items-start rounded-md bg-white shadow drop-shadow mx-6 p-4 h-32 text-left",!S(e)&&"border-l-4 border-l-primary-500"),children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:null===(o=e.translatableContent)||void 0===o?void 0:null===(a=o[p])||void 0===a?void 0:a.title}),(0,t.jsx)("span",{className:"text-sm text-gray-800",children:e.timestamp.toDate().toLocaleDateString(p)}),(0,t.jsx)("span",{className:"text-sm text-gray-500 text-elipsis overflow-hidden",children:null===(n=e.translatableContent)||void 0===n?void 0:null===(s=n[p])||void 0===s?void 0:s.shortDescription})]},e.id+"-"+S(e))})]},"notifications-"+(null==j?void 0:null===(s=j.notificationsRead)||void 0===s?void 0:s.length))})}},50563:function(e,i,r){r.d(i,{Z:function(){return u}});var t=r(52322),a=r(82972),o=r(68727),s=r(33258),n=r(98142),l=r(70231),v=r(2784),d=r(96509),c=r(5632);function u(e){var i,r;let{locale:u="fr",isMobile:f=!1,marginTop:x=0,backUrl:m}=e,h=(0,c.useRouter)(),{isUserLoggedIn:p,isNotificationUnread:g}=(0,n.a)(),[F,N]=(0,v.useState)(!1),j=4;return x>0&&(j=x/16+4),(0,t.jsxs)("div",{className:"fixed top-0 z-40 w-full lg:w-[calc(100%-16rem)] h-16 bg-gradient-to-br from-cyan-800 to-cyan-600 shadow",style:{paddingTop:"".concat(x,"px"),height:"".concat(j,"rem")},children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between px-4 h-full w-full",children:[(0,t.jsx)("button",{type:"button",title:null!==(i=s.Z[u].back)&&void 0!==i?i:"Back",onClick:()=>m?h.push(m):h.back(),children:(0,t.jsx)(a.Z,{className:"h-7 w-7 text-white"})}),(0,t.jsxs)("div",{className:"flex flex-row gap-x-4",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(l.Z,{isMobile:f,marginTop:x})}),(f||p)&&(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("button",{type:"button",className:"relative",title:null!==(r=s.Z[u].notifications)&&void 0!==r?r:"Notifications",onClick:()=>N(!0),children:[(0,t.jsx)(o.Z,{className:"h-7 w-7 text-white"}),g&&(0,t.jsx)("div",{className:"absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full"})]})})]})]}),(0,t.jsx)(d.Z,{open:F,setOpen:N,locale:u,marginTop:x})]})}}}]);